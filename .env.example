# =============================================================================
# Database Configuration
# =============================================================================
POSTGRES_DB=modular_monolith
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres123
POSTGRES_PORT=5432
POSTGRES_HOST=localhost
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_PASSWORD=redis123
REDIS_PORT=6379
REDIS_HOST=localhost
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}

# =============================================================================
# PgAdmin Configuration
# =============================================================================
PGADMIN_EMAIL=admin@example.com
PGADMIN_PASSWORD=admin123
PGADMIN_PORT=5050

# =============================================================================
# Redis Commander Configuration
# =============================================================================
REDIS_COMMANDER_PORT=8081

# =============================================================================
# MinIO S3 Configuration
# =============================================================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ENDPOINT=http://localhost:${MINIO_API_PORT}
MINIO_BUCKET_NAME=modular-monolith
MINIO_ACCESS_KEY=${MINIO_ROOT_USER}
MINIO_SECRET_KEY=${MINIO_ROOT_PASSWORD}

# =============================================================================
# Application Configuration
# =============================================================================
NODE_ENV=development
PORT=3000
API_VERSION=v1

# =============================================================================
# Better Auth Configuration
# =============================================================================
BETTER_AUTH_SECRET=your-secret-key-change-in-production
BETTER_AUTH_URL=http://localhost:3000

# Keycloak Configuration
KEYCLOAK_ISSUER=http://localhost:8080/realms/master
KEYCLOAK_CLIENT_ID=modular-monolith-api
KEYCLOAK_CLIENT_SECRET=your-keycloak-secret-change-in-production
KEYCLOAK_REDIRECT_URI=http://localhost:3000/api/auth/oauth2/callback/keycloak

# =============================================================================
# JWT Configuration
# =============================================================================
JWT_SECRET=your-jwt-secret-change-in-production
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# =============================================================================
# RS256 JWT Configuration
# =============================================================================
# Generate RSA keys using: openssl genrsa -out private.pem 2048 && openssl rsa -in private.pem -pubout -out public.pem
# Convert to base64: base64 -w 0 private.pem && base64 -w 0 public.pem
JWT_RS256_PRIVATE_KEY_BASE64=your-rsa-private-key-base64-encoded
JWT_RS256_PUBLIC_KEY_BASE64=your-rsa-public-key-base64-encoded
JWT_RS256_KEY_ID=key-2024-001

# Token Expiration (RS256)
JWT_ACCESS_TOKEN_EXPIRY=3h
JWT_REFRESH_TOKEN_EXPIRY=7d

# Migration Flag
ENABLE_RS256_TOKENS=false

# =============================================================================
# Payment Provider Configuration
# =============================================================================
# Polar
POLAR_API_KEY=your-polar-api-key
POLAR_WEBHOOK_SECRET=your-polar-webhook-secret
POLAR_API_URL=https://api.polar.sh

# Midtrans
MIDTRANS_SERVER_KEY=your-midtrans-server-key
MIDTRANS_CLIENT_KEY=your-midtrans-client-key
MIDTRANS_API_URL=https://api.sandbox.midtrans.com

# Xendit
XENDIT_SECRET_KEY=your-xendit-secret-key
XENDIT_API_URL=https://api.xendit.co

# Coinbase Commerce
COINBASE_COMMERCE_API_KEY=your-coinbase-api-key
COINBASE_COMMERCE_WEBHOOK_SECRET=your-coinbase-webhook-secret
COINBASE_COMMERCE_API_URL=https://api.commerce.coinbase.com

# =============================================================================
# Email Provider Configuration
# =============================================================================
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@example.com
SENDGRID_FROM_NAME=Modular Monolith

# =============================================================================
# SMS Provider Configuration
# =============================================================================
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# =============================================================================
# Push Notification Configuration
# =============================================================================
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_PRIVATE_KEY_ID=your-firebase-private-key-id
FIREBASE_PRIVATE_KEY=your-firebase-private-key
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
FIREBASE_CLIENT_ID=your-firebase-client-id

# =============================================================================
# Logging and Monitoring
# =============================================================================
LOG_LEVEL=debug
LOG_FORMAT=json

# Sentry Configuration
SENTRY_DSN=your-sentry-dsn
SENTRY_ENVIRONMENT=development

# =============================================================================
# Rate Limiting Configuration
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
QUOTA_CHECK_INTERVAL_MS=60000

# =============================================================================
# File Upload Configuration
# =============================================================================
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp
UPLOAD_DIR=./uploads

# =============================================================================
# CORS Configuration
# =============================================================================
CORS_ORIGIN=http://localhost:3000,http://localhost:5173
CORS_CREDENTIALS=true

# =============================================================================
# Security Configuration
# =============================================================================
BCRYPT_ROUNDS=12
SESSION_SECRET=your-session-secret-change-in-production
CSRF_SECRET=your-csrf-secret-change-in-production

# =============================================================================
# Development Configuration
# =============================================================================
TURBO_UI=tui
TURBO_CACHE_DIR=.turbo
TURBO_PERSISTENCE=true

# =============================================================================
# Testing Configuration
# =============================================================================
TEST_DATABASE_URL=postgresql://postgres:postgres123@localhost:5432/modular_monolith_test
TEST_REDIS_URL=redis://:redis123@localhost:6379/1

# =============================================================================
# Production Configuration
# =============================================================================
# Production Environment Variables
# These should be overridden in production
# =============================================================================
NODE_ENV=production
LOG_LEVEL=info
# Database should use SSL in production
DATABASE_URL=postgresql://user:password@host:5432/dbname?sslmode=require
# Redis should use AUTH in production
REDIS_URL=redis://:password@host:6379

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_BETTER_AUTH=true
ENABLE_KEYCLOAK=true
ENABLE_RATE_LIMITING=true
ENABLE_AUDIT_LOGGING=true
ENABLE_NOTIFICATIONS=true
ENABLE_PAYMENT_PROCESSING=true
ENABLE_SUBSCRIPTIONS=true

# =============================================================================
# Monitoring and Observability
# =============================================================================
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# =============================================================================
# Additional Configuration
# =============================================================================
# Add any additional environment variables as needed
# CUSTOM_VAR=value
